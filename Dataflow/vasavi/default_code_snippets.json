{"dataflow":{"dfKey":"82a7d96b-4f95-4712-9dcc-274945d19bb2","name":"default_code_snippets","tags":null,"description":"","definition":"{\"name\":\"default_code_snippets\",\"description\":\"\",\"version\":0,\"livyServerId\":0,\"engineVariableName\":\"\",\"components\":[{\"udfNames\":[],\"componentId\":0,\"componentName\":\"startComponent\",\"tableName\":\"\",\"category\":\"Start\",\"componentType\":\"UDF\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":0,\"dependencies\":[],\"className\":\"com.datagaps.dataflow.models.UDFComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"\\nimport requests\\nurl\\u003d \\\"https://color.serialif.com/aquamarine\\\"\\nresponse \\u003d requests.get(url)\\nprint(response.json())\\n\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":1,\"componentName\":\"Connect To API GET\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"\\nimport requests\\nurl\\u003d\\\"https://reqres.in/api/register\\\"\\ninput_json\\u003d{\\\"email\\\": \\\"eve.holt@reqres.in\\\",\\\"password\\\": \\\"pistol\\\"}\\nresponse \\u003d requests.post(url, json\\u003dinput_json)\\nprint(response.json())\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":2,\"componentName\":\"Connect To API POST\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"\\nfrom datagaps_utilities import json_to_rdb\\ninput_json\\u003d [\\n                {\\n\\\"a\\\": 2,\\n\\\"b\\\": 3,\\n\\\"c\\\": {\\n\\\"h\\\": 3,\\n\\\"t\\\": 9\\n},\\n\\\"d\\\": {\\n\\\"g\\\": 7,\\n\\\"t\\\": [\\n                            {\\n\\\"ee\\\": 6,\\n\\\"hh\\\": 99\\n},\\n{\\n\\\"ee\\\": 77,\\n\\\"hh\\\": 88\\n}\\n                        ]\\n                    }\\n                },\\n{\\n\\\"a\\\": 4,\\n\\\"b2\\\": 6,\\n\\\"c\\\": {\\n\\\"h\\\": 8,\\n\\\"t\\\": 0\\n},\\n\\\"d\\\": {\\n\\\"g\\\": 7,\\n\\\"t\\\": {\\n\\\"ee\\\": 5,\\n\\\"hh\\\": 6\\n}\\n                    }\\n                },\\n{\\n\\\"a\\\": 6,\\n\\\"b\\\": 8,\\n\\\"c\\\": {\\n\\\"h\\\": 7,\\n\\\"t\\\": 4\\n},\\n\\\"d\\\": {\\n\\\"g\\\": 6,\\n\\\"t\\\": {\\n\\\"ee\\\": 7,\\n\\\"hh\\\": 6\\n}\\n                    }\\n                }\\n            ]\\n\\njson_to_rdb(session_object\\u003dspark ,data\\u003dinput_json,primary_table_name\\u003d\\\"trailtest\\\",use_short_names\\u003dFalse,parse_all_strings\\u003dFalse,component_name\\u003d\\\"$[component_name]\\\",dataflow_run_id\\u003d$[dataflow_run_id],dataflow_id\\u003d\\\"$[dataflow_id]\\\", encoding\\u003d\\\"utf-8\\\", skip_one_to_one_relation\\u003dFalse)\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":3,\"componentName\":\"Nested Json Parsing\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"\\nfrom datagaps_utilities import json_to_rdb\\njson_to_rdb(session_object\\u003dspark,file_path\\u003d\\\"C:\\\\Files\\\\JsonFolder\\\\code_json.json\\\", primary_table_name\\u003d\\\"JSONrealtional\\\", use_short_names\\u003dFalse, parse_all_strings\\u003dFalse, component_name\\u003d\\\"$[component_name]\\\",dataflow_run_id\\u003d$[dataflow_run_id],dataflow_id\\u003d\\\"$[dataflow_id]\\\", encoding\\u003d\\\"utf-8\\\", skip_one_to_one_relation\\u003dTrue)\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":4,\"componentName\":\"Json file to relational datasets\",\"description\":\"Json file to relational datasets\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"\\nimport requests\\nfrom datagaps_utilities import json_to_rdb\\nurl\\u003d\\\"https://reqres.in/api/users\\\"\\ninput_data\\u003d{\\\"name\\\": \\\"morpheus\\\",\\\"job\\\": \\\"leader\\\"}\\nresponse \\u003d requests.post(url,json\\u003dinput_data)\\njson_to_rdb(session_object\\u003dspark,data\\u003dresponse.json(),primary_table_name\\u003d\\\"apijsonrdb\\\", component_name\\u003d\\\"$[component_name]\\\", dataflow_run_id\\u003d$[dataflow_run_id], dataflow_id\\u003d\\\"$[dataflow_id]\\\",use_short_names\\u003dFalse,parse_all_strings\\u003dFalse, encoding\\u003d\\\"utf-8\\\", skip_one_to_one_relation\\u003dTrue)\\n\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":6,\"componentName\":\"API response to relational datasets\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"\\nfrom datagaps_utilities import xml_to_rdb\\ninput_xml\\u003d\\\"\\\"\\\"\\n\\u003cFolders\\u003e\\n\\u003cFolder\\u003e\\n\\u003cStdName\\u003eJoe Biden\\u003c/StdName\\u003e\\n\\u003cSpecialization\\u003eICSE\\u003c/Specialization\\u003e\\n\\u003cPosition\\u003eSenior\\u003c/Position\\u003e\\n\\u003cG1\\u003e82\\u003c/G1\\u003e\\n\\u003cG2\\u003e96\\u003c/G2\\u003e\\n\\u003cG3\\u003e96.2\\u003c/G3\\u003e\\n\\u003ctut1\\u003e94.4\\u003c/tut1\\u003e\\n\\u003cG4\\u003e0\\u003c/G4\\u003e\\n\\u003cG5\\u003e95.2\\u003c/G5\\u003e\\n\\u003ctut2\\u003e99.2\\u003c/tut2\\u003e\\n\\u003c/Folder\\u003e\\n\\u003cFolder\\u003e\\n\\u003cStdName\\u003eKamala Harish\\u003c/StdName\\u003e\\n\\u003cSpecialization\\u003eBQE\\u003c/Specialization\\u003e\\n\\u003cPosition\\u003eLow-level\\u003c/Position\\u003e\\n\\u003cG1\\u003e84\\u003c/G1\\u003e\\n\\u003cG2\\u003e95\\u003c/G2\\u003e\\n\\u003cG3\\u003e95.2\\u003c/G3\\u003e\\n\\u003ctut1\\u003e93.4\\u003c/tut1\\u003e\\n\\u003cG4\\u003e10\\u003c/G4\\u003e\\n\\u003cG5\\u003e95.1\\u003c/G5\\u003e\\n\\u003c/Folder\\u003e\\n\\u003cFolder\\u003e\\n\\u003cStdName\\u003eLawrence mark\\u003c/StdName\\u003e\\n\\u003cSpecialization\\u003eCBSE\\u003c/Specialization\\u003e\\n\\u003cPosition\\u003eJunior\\u003c/Position\\u003e\\n\\u003cG1\\u003e72\\u003c/G1\\u003e\\n\\u003cG2\\u003e94\\u003c/G2\\u003e\\n\\u003cG3\\u003e95.2\\u003c/G3\\u003e\\n\\u003ctut1\\u003e93.4\\u003c/tut1\\u003e\\n\\u003cG4\\u003e0\\u003c/G4\\u003e\\n\\u003cG5\\u003e93.2\\u003c/G5\\u003e\\n\\u003c/Folder\\u003e\\n\\u003c/Folders\\u003e\\\"\\\"\\\"\\nxml_to_rdb(session_object\\u003dspark,data\\u003dinput_xml,use_short_names\\u003dFalse,component_name\\u003d\\\"$[component_name]\\\", dataflow_run_id\\u003d$[dataflow_run_id], dataflow_id\\u003d\\\"$[dataflow_id]\\\", encoding\\u003d\\\"utf-8\\\", skip_one_to_one_relation\\u003dTrue)\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":8,\"componentName\":\"XML to relational datasets\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"\\nfrom datagaps_utilities import xml_to_rdb\\nxml_to_rdb(session_object\\u003dspark, file_path\\u003d\\\"C:\\\\Files\\\\XML\\\\Scenario.xml\\\", use_short_names\\u003dFalse,component_name\\u003d\\\"$[component_name]\\\", dataflow_run_id\\u003d$[dataflow_run_id], dataflow_id\\u003d\\\"$[dataflow_id]\\\")\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":9,\"componentName\":\"XML file to relational datasets\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"\\nimport requests\\nfrom datagaps_utilities import xml_to_rdb\\nurl\\u003d\\\"https://www.dataaccess.com/webservicesserver/TextCasing.wso\\\"\\ninput_data\\u003d\\\"\\\"\\\"\\u003c?xml version\\u003d\\\"1.0\\\" encoding\\u003d\\\"utf-8\\\"?\\u003e\\n\\u003csoap12:Envelope xmlns:soap12\\u003d\\\"http://www.w3.org/2003/05/soap-envelope\\\"\\u003e\\n  \\u003csoap12:Body\\u003e\\n    \\u003cInvertStringCase xmlns\\u003d\\\"http://www.dataaccess.com/webservicesserver/\\\"\\u003e\\n      \\u003csAString\\u003eAbCdE\\u003c/sAString\\u003e\\n    \\u003c/InvertStringCase\\u003e\\n  \\u003c/soap12:Body\\u003e\\n\\u003c/soap12:Envelope\\u003e\\\"\\\"\\\"\\nresponse\\u003drequests.post(url,data\\u003dinput_data)\\nxml_to_rdb(session_object\\u003dspark, data\\u003dresponse.text, use_short_names\\u003dTrue,component_name\\u003d\\\"$[component_name]\\\", encoding\\u003d\\\"utf-8\\\", skip_one_to_one_relation\\u003dTrue, dataflow_run_id\\u003d$[dataflow_run_id], dataflow_id\\u003d\\\"$[dataflow_id]\\\")\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":10,\"componentName\":\"API XML response to relational datasets\",\"description\":\"\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"\\nfrom datagaps_utilities import send_email\\nsend_email(session_object\\u003dspark,to\\u003d\\\"mohanreddy.tara@datagaps.com\\\",subject\\u003d\\\"send_email_check\\\", content\\u003d\\\"Got it \\\", content_type\\u003d\\\"Plain\\\")\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":11,\"componentName\":\"Send Email\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"\\nfrom datagaps_utilities import send_email\\nto_mail\\u003d[\\\"mohanreddy.tara@datagaps.com\\\",\\\"anjali.gadde@datagaps.com\\\"]\\nsend_email(session_object\\u003dspark,to\\u003dto_mail, subject\\u003d\\\"sendemailtomultipleusers\\\",content\\u003d\\\"Got it\\\", content_type\\u003d\\\"Plain\\\")\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":12,\"componentName\":\"Send Email to multiple people\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"\\nfrom datagaps_utilities import send_email\\nhtml_content\\u003d \\\"\\\"\\\"\\u003chtml\\u003e\\n\\u003ch1 style\\u003d\\\"color:Tomato;\\\"\\u003eHello World\\u003c/h1\\u003e\\n\\u003cp style\\u003d\\\"color:DodgerBlue;\\\"\\u003eLorem ipsum...\\u003c/p\\u003e\\n\\u003cp style\\u003d\\\"color:MediumSeaGreen;\\\"\\u003eUt wisi enim...\\u003c/p\\u003e\\n\\\"\\\"\\\"\\nsend_email(session_object\\u003dspark,to\\u003d\\\"mohanreddy.tara@datagaps.com\\\",subject\\u003d\\\"HTML_Content\\\",content\\u003dhtml_content, content_type\\u003d\\\"html\\\")\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":13,\"componentName\":\"Send Email with HTML content\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"\\nspark.sparkContext._jvm.com.datagaps.core.engine.utils.CodeUtils.updateGlobalParameter(\\\"Update global parameter\\\",\\\"limit 99\\\",\\\"$[updatepram]\\\", $[container_id])\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":15,\"componentName\":\"Update global parameter\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"from datagaps_utilities import send_email\\r\\nto_mail \\u003d [\\\"venkatalakshmi.malapati@datagaps.com\\\",\\\"jyothi.gaddam@datagaps.com\\\",\\\"vasavi.meda@datagaps.com\\\"]\\r\\nsend_email(session_object\\u003dspark,to\\u003dto_mail,subject\\u003d\\\"send_emailattachements\\\",content\\u003d\\\"working fine\\\", content_type\\u003d\\\"Plain\\\",attachment_locations\\u003d[r\\\"C:\\\\Files\\\\XML\\\\MySQL.XML\\\",r\\\"C:\\\\Files\\\\XML\\\\Scenario.xml\\\",r\\\"C:\\\\Files\\\\JsonFolder\\\\localws\\\"])\\r\\n\\r\\n\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":16,\"componentName\":\"Send Email to multiple with attachments\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"\\nfrom datagaps_utilities import send_email\\nsend_email(session_object\\u003dspark,to\\u003d\\\"vasavi.meda@datagaps.com\\\",subject\\u003d\\\"single_attachement\\\",content\\u003d\\\"Received\\\", content_type\\u003d\\\"Plain\\\",attachment_locations\\u003d[r\\\"C:\\\\Files\\\\JsonFolder\\\\Teradata.JSON\\\",r\\\"C:\\\\Files\\\\JsonFolder\\\\localws\\\"])\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":17,\"componentName\":\"Send email to one with attachments\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"format\":\"json\",\"enableSchema\":\"N\",\"schema\":[],\"fileMetadata\":[],\"enableTrim\":\"N\",\"componentId\":20,\"componentName\":\"File 20\",\"tableName\":\"File_20\",\"category\":\"Source\",\"componentType\":\"File\",\"rank\":0,\"dataSourceName\":\"JSON_local\",\"displayRows\":50,\"dependencies\":[],\"options\":{\"mode\":\"PERMISSIVE\",\"dateFormat\":\"yyyy-MM-dd\",\"multiLine\":\"true\",\"timestampFormat\":\"yyyy-MM-dd \\u0027T\\u0027 HH:mm:ss.SSSXXX\",\"path\":\"$[limit_rows]\",\"Encoding\":\"\",\"inferSchema\":\"true\"},\"className\":\"com.datagaps.dataflow.models.FileComponent\",\"isCheckpointEnabled\":\"Y\",\"dataSourceLogicalName\":\"\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"spark.conf.set(s\\\"spark.sql.catalog.cass\\\", \\\"com.datastax.spark.connector.datasource.CassandraCatalog\\\")\\r\\nspark.conf.set(s\\\"spark.sql.catalog.cass.spark.cassandra.connection.host\\\", \\\"192.168.6.83\\\")\\r\\nspark.conf.set(\\\"spark.sql.catalog.cass.spark.cassandra.auth.username\\\",\\\"cassandra\\\")\\r\\nspark.conf.set(\\\"spark.sql.catalog.cass.spark.cassandra.auth.password\\\",\\\"qProbe123\\\")\\r\\nval ds \\u003d spark.sql(\\\"SELECT * from cass.test.customers where cust_city\\u003d\\u0027Telmond\\u0027\\\")\\r\\nds.show()\\r\\nds.createOrReplaceTempView(\\\"code_ds1\\\");\\r\\nds.cache();\",\"kind\":\"spark\",\"dataSourceId\":0,\"componentId\":21,\"componentName\":\"Cassandra\",\"tableName\":\"code_ds1\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"\\nfrom datagaps_utilities import json_to_rdb\\njson_to_rdb(session_object\\u003dspark,file_path\\u003d\\\"C:\\\\Files\\\\JsonFolder/customerclient_multiline.json\\\", primary_table_name\\u003d\\\"skiprelations\\\",use_short_names\\u003dFalse, parse_all_strings\\u003dFalse, component_name\\u003d\\\"$[component_name]\\\",dataflow_run_id\\u003d$[dataflow_run_id],dataflow_id\\u003d\\\"$[dataflow_id]\\\", encoding\\u003d\\\"utf-8\\\", skip_one_to_one_relation\\u003dTrue)\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":24,\"componentName\":\"JSON_Skip_one_to_one_relation\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"\\nfrom datagaps_utilities import json_to_rdb\\njson_to_rdb(session_object\\u003dspark,file_path\\u003d\\\"C:\\\\Files\\\\JsonFolder/encode_utf_16.json\\\", primary_table_name\\u003d\\\"pk1\\\",use_short_names\\u003dFalse, parse_all_strings\\u003dFalse, component_name\\u003d\\\"$[component_name]\\\",dataflow_run_id\\u003d$[dataflow_run_id],dataflow_id\\u003d\\\"$[dataflow_id]\\\", encoding\\u003d\\\"utf-16\\\", skip_one_to_one_relation\\u003dTrue)\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":25,\"componentName\":\"JSON_Encode_utf16\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"\\r\\nfrom datagaps_utilities import xml_to_rdb\\r\\nxml_to_rdb(session_object\\u003dspark,file_path\\u003d\\\"C:\\\\Files\\\\XML\\\\sample_nested.xml\\\",use_short_names\\u003dTrue,component_name\\u003d\\\"$[component_name]\\\", dataflow_run_id\\u003d$[dataflow_run_id], dataflow_id\\u003d\\\"$[dataflow_id]\\\", encoding\\u003d\\\"utf-8\\\", skip_one_to_one_relation\\u003dTrue)\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":26,\"componentName\":\"XML_skip_one_to_one relation\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"\",\"excludeNotification\":\"N\"},{\"code\":\"\\nimport pkg_resources\\ninstalled_packages \\u003d pkg_resources.working_set\\ninstalled_packages_list \\u003d sorted([\\\"%s\\u003d\\u003d%s\\\" % (i.key, i.version)\\n\\t for i in installed_packages])\\nfor m in installed_packages_list:\\n\\tprint(m)\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":27,\"componentName\":\"Print List of Python Packages Installed\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"\\nimport platform\\nimport psutil\\n\\nmy_system \\u003d platform.uname()\\n \\nprint(f\\\"\\\"\\\"System: {my_system.system} \\\\n Node Name: {my_system.node} \\\\n Release: {my_system.release} \\\\n Version: {my_system.version} \\\\n Machine: {my_system.machine} \\\\n Processor: {my_system.processor} \\\\n Total RAM Installed: {round(psutil.virtual_memory().total/(2**30), 2)}GB \\\\n Number of physical cores: {psutil.cpu_count()} \\\\n Total Disk Space: {round(psutil.disk_usage(\\\"/\\\").total/(2**30))}GB\\\"\\\"\\\")\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":28,\"componentName\":\"System Information\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"\\nimport psutil\\n\\nprint(f\\\"\\\"\\\"CPU Usage: {psutil.cpu_percent()} % \\\\n RAM Usage: {psutil.virtual_memory().percent} % \\\\n Disk Space Used: {psutil.disk_usage(\\\"/\\\").percent} % \\\\n Total RAM Installed: {round(psutil.virtual_memory().total/(2**30), 2)}GB \\\\n Number of physical cores: {psutil.cpu_count()} \\\\n Total Disk Space: {round(psutil.disk_usage(\\\"/\\\").total/(2**30))}GB\\\"\\\"\\\")\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":29,\"componentName\":\"CPU and Memory Utilization\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"\\nfrom datagaps_utilities.config import properties_file_path\\nfrom jproperties import Properties\\n\\nprint(properties_file_path)\\nconfigs \\u003d Properties()\\nwith open(properties_file_path, \\\"rb\\\") as config_file:\\n\\tconfigs.load(config_file)\\nitems_view \\u003d configs.items()\\nfor item in items_view:\\n\\tprint(item)\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":30,\"componentName\":\"View Datagaps Properties File\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"\\nfrom datagaps_utilities.config import log_file_path\\nprint(log_file_path)\\nfile\\u003dopen(log_file_path)\\nfor line in reversed(list(file)):\\n\\tprint(line)\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":31,\"componentName\":\"View Utilities logs\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"println(\\\"$[dataflow_run_id]\\\");\\r\\nprintln(\\\"$[dataflow_name]\\\");\\r\\nprintln(\\\"$[dataflow_id]\\\");\\r\\nprintln(\\\"$[dataflow_start_time]\\\");\",\"kind\":\"spark\",\"dataSourceId\":0,\"componentId\":32,\"componentName\":\"Inbult_param_spark\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"\",\"excludeNotification\":\"N\"},{\"code\":\"print(\\\"$[dataflow_run_id]\\\");\\r\\nprint(\\\"$[dataflow_name]\\\");\\r\\nprint(\\\"$[dataflow_id]\\\");\\r\\nprint(\\\"$[dataflow_start_time]\\\");\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":33,\"componentName\":\"Inbuilt_param_python\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"\",\"excludeNotification\":\"N\"},{\"code\":\"from datagaps_utilities import json_to_rdb\\r\\n\\r\\ndata \\u003d {\\\"a\\\": [2, 3, 5, 7, 9, 10, 1], \\\"b\\\": {\\\"c\\\": \\\"hai\\\", \\\"d\\\": [\\\"N\\\", \\\"N\\\", \\\"N\\\", \\\"Y\\\"]}}\\r\\njson_to_rdb(session_object\\u003dspark,data\\u003ddata, primary_table_name\\u003d\\\"table21\\\", use_short_names\\u003dFalse, parse_all_strings\\u003dFalse, component_name\\u003d\\\"non_object_list_as_columns_true\\\",dataflow_run_id\\u003d$[dataflow_run_id],dataflow_id\\u003d\\\"$[dataflow_id]\\\",  non_object_list_as_columns\\u003dTrue)\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":35,\"componentName\":\"non_object_list_as_columns_true\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"\\r\\nfrom datagaps_utilities import xml_to_rdb\\r\\nxml_to_rdb(session_object\\u003dspark,file_path\\u003d\\\"C:\\\\Files\\\\XML\\\\sample_nested.xml\\\", use_short_names\\u003dFalse, component_name\\u003d\\\"xml_to_rdb_skip_true\\\",dataflow_run_id\\u003d$[dataflow_run_id],dataflow_id\\u003d\\\"$[dataflow_id]\\\", skip_one_to_one_relation\\u003dTrue,encoding\\u003d\\\"utf-8\\\")\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":37,\"componentName\":\"xml_to_rdb_skip_true\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"\",\"excludeNotification\":\"N\"},{\"format\":\"json\",\"enableSchema\":\"N\",\"schema\":[],\"fileMetadata\":[],\"enableTrim\":\"N\",\"componentId\":38,\"componentName\":\"File 38\",\"tableName\":\"File_38\",\"category\":\"Source\",\"componentType\":\"File\",\"rank\":0,\"dataSourceName\":\"JSON_local\",\"displayRows\":50,\"dependencies\":[],\"options\":{\"mode\":\"PERMISSIVE\",\"dateFormat\":\"yyyy-MM-dd\",\"multiLine\":\"true\",\"timestampFormat\":\"yyyy-MM-dd \\u0027T\\u0027 HH:mm:ss.SSSXXX\",\"path\":\"code_json.json\",\"Encoding\":\"\",\"inferSchema\":\"true\"},\"className\":\"com.datagaps.dataflow.models.FileComponent\",\"isCheckpointEnabled\":\"N\",\"dataSourceLogicalName\":\"\",\"executionOption\":\"\",\"excludeNotification\":\"N\"},{\"pluginId\":\"a9670244-0a57-419a-8770-ec28cde95f7d\",\"pluginName\":\"Create a Jira Ticket\",\"pluginOptions\":{\"parameters\":[{\"parameterId\":\"c2744657-b7f4-4887-a115-ec011d2f94db\",\"fieldName\":\"project\",\"displayName\":\"Project Key\",\"value\":\"TEST\",\"dataType\":\"String\"},{\"parameterId\":\"0b7a9f89-dc74-4a5d-a9a6-775010d42d6d\",\"fieldName\":\"issuetype\",\"displayName\":\"Issue Type\",\"value\":\"Bug\",\"dataType\":\"Choice\"},{\"parameterId\":\"e7c713c8-418c-4f1e-83de-0e99239dcb1f\",\"fieldName\":\"summary\",\"displayName\":\"Summary\",\"value\":\"raising issue in jira with plugin component\",\"dataType\":\"String\"},{\"parameterId\":\"162a3cbd-0711-4588-8c7b-ce5910b237ea\",\"fieldName\":\"description\",\"displayName\":\"Description (Optional)\",\"value\":\"\\\" \\\"\",\"dataType\":\"text\"},{\"parameterId\":\"2db3dab5-41ad-481b-a771-aa01b9d8abf5\",\"fieldName\":\"Priority\",\"displayName\":\"Priority\",\"value\":\"High\",\"dataType\":\"Choice\"}],\"inputDatasets\":[],\"outputDatasets\":[],\"dataSources\":[]},\"componentId\":40,\"componentName\":\"Plugin 40\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Plugin\",\"rank\":0,\"displayRows\":0,\"dependencies\":[],\"options\":{},\"className\":\"com.datagaps.dataflow.models.PluginComponent\",\"executionOption\":\"\",\"excludeNotification\":\"N\"},{\"code\":\"\\nfrom datagaps_utilities import json_to_rdb\\njson_to_rdb(session_object\\u003dspark,file_path\\u003d\\\"C:\\\\Files\\\\JsonFolder\\\\error_json.json\\\", primary_table_name\\u003d\\\"errorcheck\\\", use_short_names\\u003dFalse, parse_all_strings\\u003dFalse, component_name\\u003d\\\"json_to_rdb_errorcheck\\\",dataflow_run_id\\u003d$[dataflow_run_id],dataflow_id\\u003d\\\"$[dataflow_id]\\\", encoding\\u003d\\\"utf-8\\\", skip_one_to_one_relation\\u003dTrue)\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":34,\"componentName\":\"json_to_rdb_errorcheck\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[1],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"designmode\",\"excludeNotification\":\"N\"},{\"partitionOptions\":{\"partitionType\":\"\",\"name\":\"\"},\"easyQueryDefJson\":{\"sqlQuery\":\"{\\\"modified\\\":true,\\\"query\\\":{\\\"modelId\\\":\\\"c2b86ec3-13ee-4266-a83b-f74945972026\\\",\\\"modelName\\\":null,\\\"id\\\":\\\"quer-ufkieozp8g\\\",\\\"name\\\":\\\"[New query]\\\",\\\"cols\\\":[{\\\"id\\\":\\\"col-rfkierox6o\\\",\\\"cptn\\\":\\\"ee\\\",\\\"expr\\\":{\\\"tag\\\":2,\\\"dtype\\\":1,\\\"id\\\":\\\"trailtest_d_t.ee\\\",\\\"val\\\":\\\"trailtest_d_t.ee\\\"}},{\\\"id\\\":\\\"col-6nkierox6o\\\",\\\"cptn\\\":\\\"dg_uid\\\",\\\"expr\\\":{\\\"tag\\\":2,\\\"dtype\\\":1,\\\"id\\\":\\\"trailtest_d_t.dg_uid\\\",\\\"val\\\":\\\"trailtest_d_t.dg_uid\\\"}},{\\\"id\\\":\\\"col-b4kierox6o\\\",\\\"cptn\\\":\\\"hh\\\",\\\"expr\\\":{\\\"tag\\\":2,\\\"dtype\\\":1,\\\"id\\\":\\\"trailtest_d_t.hh\\\",\\\"val\\\":\\\"trailtest_d_t.hh\\\"}},{\\\"id\\\":\\\"col-efkierox6o\\\",\\\"cptn\\\":\\\"trailtest_d_id\\\",\\\"expr\\\":{\\\"tag\\\":2,\\\"dtype\\\":1,\\\"id\\\":\\\"trailtest_d_t.trailtest_d_id\\\",\\\"val\\\":\\\"trailtest_d_t.trailtest_d_id\\\"}}],\\\"justsortcols\\\":[],\\\"extraData\\\":{},\\\"innerData\\\":{\\\"aggr\\\":{\\\"groups\\\":[],\\\"ugt\\\":false,\\\"urc\\\":false,\\\"csg\\\":false,\\\"aggregates\\\":[],\\\"enabled\\\":false}},\\\"root\\\":{\\\"tag\\\":51,\\\"linking\\\":3,\\\"conds\\\":[]},\\\"extraConds\\\":{\\\"tag\\\":51,\\\"linking\\\":3,\\\"conds\\\":[]},\\\"timezoneOffset\\\":-330,\\\"locale\\\":\\\"en-US\\\"}}\"},\"componentId\":5,\"componentName\":\"SQL 5\",\"tableName\":\"SQL_5\",\"category\":\"Processor\",\"componentType\":\"SQL\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[3],\"options\":{\"dbTable\":\"SELECT trailtest_d_t.ee AS ee, trailtest_d_t.dg_uid AS dg_uid, trailtest_d_t.hh AS hh, trailtest_d_t.trailtest_d_id AS trailtest_d_id  FROM trailtest_d_t trailtest_d_t \"},\"className\":\"com.datagaps.dataflow.models.SQLComponent\",\"isCheckpointEnabled\":\"N\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"\\nfrom datagaps_utilities import dataset_to_rdb\\ndataset_to_rdb(session_object\\u003dspark,dataset_name\\u003d \\\"SQL_5\\\",primary_table_name\\u003d\\\"sql5\\\", use_short_names\\u003dFalse,parse_all_strings\\u003dFalse,component_name\\u003d\\\"dataset to relational datasets\\\", dataflow_run_id\\u003d$[dataflow_run_id], dataflow_id\\u003d\\\"$[dataflow_id]\\\")\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":7,\"componentName\":\"dataset to relational datasets\",\"description\":\"\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[5],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"\\nfrom datagaps_utilities import dataset_flatten\\ndataset_flatten(session_object\\u003dspark, input_dataset\\u003d\\\"File_20\\\", component_name\\u003d\\\"Dataset flatten as single table\\\", dataflow_run_id\\u003d$[dataflow_run_id], output_dataset_primary\\u003d\\\"dataset_flatten\\\")\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":19,\"componentName\":\"Dataset flatten as single table\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[20],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"\\nfrom datagaps_utilities import dataset_flatten\\ndataset_flatten(session_object\\u003dspark, input_dataset\\u003d\\\"File_20\\\", component_name\\u003d\\\"Dataset flatten as two tables\\\", dataflow_run_id\\u003d$[dataflow_run_id], output_dataset_primary\\u003d\\\"test11\\\", result_type\\u003d\\\"split\\\", unique_columns\\u003d\\\"student_count\\\", output_dataset_flattened\\u003d\\\"test22\\\")\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":22,\"componentName\":\"Dataset flatten as two tables\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[20],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"from py4j.java_gateway import java_import\\njava_import(spark._sc._jvm, \\\"org.apache.spark.sql.api.python.*\\\")\\n\\nfrom datagaps_utilities import get_meta_data\\nget_meta_data(spark, \\\"SQL_5\\\")\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":23,\"componentName\":\"get_metadata_length\",\"tableName\":\"meta_data_of_SQL_5\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[5],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"partitionOptions\":{\"partitionType\":\"\",\"name\":\"\"},\"easyQueryDefJson\":{\"sqlQuery\":\"\"},\"componentId\":36,\"componentName\":\"SQL 36\",\"tableName\":\"SQL_36\",\"category\":\"Processor\",\"componentType\":\"SQL\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[35],\"options\":{\"dbTable\":\"select * from table21_b\"},\"className\":\"com.datagaps.dataflow.models.SQLComponent\",\"isCheckpointEnabled\":\"N\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"},{\"code\":\"\\nfrom datagaps_utilities import dataset_to_rdb\\ndataset_to_rdb(session_object\\u003dspark,dataset_name\\u003d \\\"File_38\\\",primary_table_name\\u003d\\\"drb1\\\", use_short_names\\u003dFalse,parse_all_strings\\u003dTrue, component_name\\u003d\\\"dataset to relational datasets1\\\", dataflow_run_id\\u003d$[dataflow_run_id], dataflow_id\\u003d\\\"$[dataflow_id]\\\", skip_one_to_one_relation\\u003dTrue)\",\"kind\":\"pyspark\",\"dataSourceId\":0,\"componentId\":39,\"componentName\":\"dataset to relational datasets1\",\"tableName\":\"\",\"category\":\"Processor\",\"componentType\":\"Code\",\"rank\":0,\"dataSourceName\":\"\",\"displayRows\":50,\"dependencies\":[38],\"options\":{},\"className\":\"com.datagaps.dataflow.models.CodeComponent\",\"executionOption\":\"allparentpassorfail\",\"excludeNotification\":\"N\"}],\"isDeleteWorkSchemaTable\":\"N\"}","parameters":"[{\"name\":\"limit_rows\",\"defValueInInteractiveMode\":\"sample1.json\",\"defValueInBatchMode\":\"sample2.json\"},{\"name\":\"updatepram\",\"defValueInInteractiveMode\":\"limit 98\",\"defValueInBatchMode\":\"limit 124\"},{\"name\":\"Tag\",\"defValueInInteractiveMode\":null,\"defValueInBatchMode\":\"Before upgrade\"}]","version":3,"maxComponentId":40,"livyOptions":"{\"kind\":\"spark\",\"proxyUser\":\"\",\"jars\":[],\"pyFiles\":[],\"files\":[],\"driverMemory\":\"\",\"driverCores\":0,\"executorMemory\":\"\",\"executorCores\":0,\"numExecutors\":0,\"archives\":[],\"queue\":\"\",\"name\":\"\",\"conf\":{\"spark.hadoop.google.cloud.auth.service.account.json.keyfile\":\"/home/datagaps/data/datagapsQaBigquery.json\"},\"heartbeatTimeoutInSecond\":0}","isDeleted":"N","userName":null,"type":"dataflow","environmentName":"","folderPath":"Dataflow/vasavi","workSchemaName":null},"analysis":[],"datamodels":[],"tagDetails":[],"dataCompares":[]}